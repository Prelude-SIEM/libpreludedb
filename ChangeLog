2002-09-12  Krzysztof Zaraska  <kzaraska@student.uci.agh.edu.pl>

	* src/db-connection.c:
	* src/include/db-connection.h:
	removed support for connection lists. This should be done
	in the application.
	
	Added a new ODBC-style common connection interface 
	(prelude_db_connect).
	
	* src/param-string.c
	* src/include/param-string.h:
	Functions needed for parsing connection configuration strings. 

2002-08-27  Yoann Vandoorselaere  <yoann@mandrakesoft.com>

	* src/sql-table.c: made sql_field_t, sql_row_t, sql_table_t
	be opaque datatype, for the sake of binary compatibility.

	* lot of cleanup, handle session the right way (tm).

2002-08-26  Yoann Vandoorselaere  <yoann@mandrakesoft.com>

	* src/sql-plugins.c:
	if va_copy isn't defined (C99), check for __va_copy (C89).

	If __va_copy isn't available, then fallback on the memcpy()
	method, but give a compile warning as well explaining this 
	might result in undefined behavior on certain architecture.

	generate_query(): copy the variable argument list in case
	generate_dynamic_query() is to be called. This avoid undefined
	behavior on some architecture, where you can't use a variable
	argument list twice.
	
	* src/sql-plugins.c (sql_query): 
	(sql_insert): kill code duplication, use generate_query().

	(generate_query): new function. Fix an off by one in 
	sql_insert() and sql_query.

	* configure.in: pre-require autoconf 2.53.

2002-08-25  Yoann Vandoorselaere  <yoann@mandrakesoft.com>

	* src/format-plugins.c: avoid using global variable when
	possible. Style fix.

2002-08-23  Krzysztof Zaraska  <kzaraska@student.uci.agh.edu.pl>

	* plugins/db/mysql/mysql.c:
	* plugins/db/pgsql/pgsql.c:
	  fix a bug causing first assigned session ID to have number
	  1 instead of 0.

	* plugins/db/mysql/mysql.c:
	* plugins/db/pgsql/pgsql.c:
	  remove not needed prelude_option stuff

	* plugins/db/mysql/mysql.c:
	* plugins/db/pgsql/pgsql.c:
	* src/sql-plugins.c:
	* include/plugins-sql.h:
	  change db_escape() prototype. Session identifier must be passed
	  to the function so mysql_real_escape_string() can be used. 

        * plugins/db/mysql/mysql.c:
        * plugins/db/pgsql/pgsql.c:
	* plugins/formats/classic/classic.c:
	* plugins/formats/classic/idmef-db-output.c:
	* src/sql-plugins.c:
	  improve error handling and messages, remove debugging printf()'s 
	  and log()'s. 

	* README: new file. Instructions for new users. ;-)


2002-08-23  Krzysztof Zaraska  <kzaraska@student.uci.agh.edu.pl>

	* plugins/db/mysql/Makefile.am:
	* plugins/db/mysql/mysql.c:
	  port the plugin to new API. Mostly functional, but missing
	  db_query() function (currently not used). 

	* plugins/db/Makefile.am: enable MySQL plugin

2002-08-22  Krzysztof Zaraska  <kzaraska@student.uci.agh.edu.pl>

	* src/db.c 
          src/include/db.h:
          cleanup. No longer dependant on (argc, argv). 
	  Change function prefix to prelude_db.

	* src/db-connection.c, src/include/db-connection.h: 
	  cleanup. Improved database interface handling code. 
	  Change function prefix to prelude_db.

2002-08-22  Krzysztof Zaraska  <kzaraska@student.uci.agh.edu.pl>

	* Initial commit:
	  Supports writing data in old Prelude format to PostgreSQL database.
	  Certain files / directories not (yet) used. Needs cleaning. 

